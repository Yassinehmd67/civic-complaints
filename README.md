# ููุตุฉ ุงูุดูุงูุงุช ูุงูุชูุงุฑูุฑ (MVP)

ููุตุฉ ูุฏููุฉ ุบูุฑ ุฑุจุญูุฉ ุชูุฏู ุฅูู ุชูููู ุงูููุงุทููู ูู **ุชูุซูู ุงูุดูุงูุงุช ูุงูุชูุงุฑูุฑ ูุงูุดูุงุฏุงุช** ุจุดูู ุขูู ูููุธู.

---

## โ๏ธ ุงูุจููุฉ ุงูุนุงูุฉ

ุชุนุชูุฏ ุงูููุตุฉ ุนูู:

- **GitHub Pages**: ูุงุณุชุถุงูุฉ ุงููุงุฌูุฉ (HTML / JS / CSS).
- **GitHub Issues**: ูุชุฎุฒูู ุงููุตูุต (ูู ุดููู ุฃู ุชูุฑูุฑ = Issueุ ููู ุดูุงุฏุฉ = Comment).
- **Netlify Functions**: ููุนุงูุฌุฉ ุงูุทูุจุงุช ูุงูุชุญูู ูุจู ุฅูุดุงุก ุงููุถุงูุง ูู GitHub.
- **Supabase Storage (ุงุฎุชูุงุฑู)**: ูุชุฎุฒูู ูููุงุช PDF ุฃู ุตูุฑ ูููุนุฉ ุจุดูู ุฎุงุต (Private).

---

## ๐งฑ ุจููุฉ ุงููููุงุช

/ (ุงูุฌุฐุฑ) โโ index.html                # ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ (ุงูููุงุฐุฌ ูุงููุนุฑุถ) โโ about.html                # ุตูุญุฉ ุญูู ุงูููุตุฉ โโ admin.html                # ููุญุฉ ุงูุฅุฏุงุฑุฉ (ุชุญูู ูู ุงูุญุงูุงุช + hCaptcha) โโ netlify/functions/        # ุฏูุงู ุงูุฎุงุฏู (Serverless) โ  โโ submitComplaint.js โ  โโ submitReport.js โ  โโ submitComment.js โ  โโ uploadProof.js โ  โโ getProofLink.js โ  โโ adminSetStatus.js โ  โโ getStatus.js โ  โโ listApproved.js โ  โโ pingSupabase.js โ  โโ upvoteIssue.js โโ test-upload.html          # ุตูุญุฉ ุงุฎุชุจุงุฑ ุฑูุน ูููุงุช โโ state.json                # ูููุน ุงููุณุชุฎุฏู ุงูุงูุชุฑุงุถู (ูุฏููุฉุ ุชูููุช) โโ README.md

---

## ๐ ุงูุฅุทูุงู ุงูุณุฑูุน (Quick Deploy)

1. ุฃูุดุฆ ูุณุชูุฏุน GitHub ุนุงู ูุซู `civic-complaints`.
2. ูุนูู **GitHub Pages** ูู ูุฑุน `main`.
3. ุงุฑุจุทู ูู **Netlify** ุนุจุฑ โNew site from Gitโ.
4. ุฃุถู ูุฌูุฏ `netlify/functions` ูุถุน ุงูุฏูุงู ุฃุนูุงู.
5. ุฃุถู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููุง ูู ููุถุญ ุฃุฏูุงู.
6. (ุงุฎุชูุงุฑู) ุฃูุดุฆ ูุดุฑูุน **Supabase** ูุน Bucket ุจุงุณู `proofs` (ุฎุงุต).
7. ุงุฏูุน ุงูุชุบููุฑุงุช:  
   ```bash
   git add .
   git commit -m "Initial deploy"
   git push origin main

8. ุณูููู Netlify ุจุงููุดุฑ ุชููุงุฆููุง ๐




---

๐ ูุชุบูุฑุงุช ุงูุจูุฆุฉ (Environment Variables)

ูู ุฅุนุฏุงุฏุงุช Netlify โ Site settings โ Build & deploy โ Environment:

GitHub

ุงููุชุบูุฑ	ุงููุตู

REPO_OWNER	ุงุณู ุญุณุงุจ GitHub
REPO_NAME	ุงุณู ุงููุณุชูุฏุน
GITHUB_TOKEN	ุชููู ุดุฎุตู ุจุตูุงุญูุฉ Issues: Read/Write ููุท


Supabase (ุงุฎุชูุงุฑู)

ุงููุชุบูุฑ	ุงููุตู

SUPABASE_URL	ุฑุงุจุท ูุดุฑูุน Supabase
SUPABASE_SERVICE_ROLE	ุงูููุชุงุญ ุงูุณุฑู (Service Role)
SUPABASE_BUCKET	ุงุณู ุงููBucket: proofs


ุฅุฏุงุฑุฉ (Admin)

ุงููุชุบูุฑ	ุงููุตู

ADMIN_HASH	ูููุฉ ุณุฑ ุงูุฃุฏูู ูุดูุฑุฉ ุจู Bcrypt


ุงูุญูุงูุฉ (Captcha)

ุงููุชุบูุฑ	ุงููุตู

HCAPTCHA_SECRET	ุงูููุชุงุญ ุงูุณุฑู ููุชุญูู ูู hCaptcha



---

๐ก๏ธ ุงูุญูุงูุฉ ูุงูุฃูุงู

ุชูุนูู hCaptcha ูู ุฌููุน ุงูููุงุฐุฌ (ุงูุดูุงูุฉุ ุงูุชูุฑูุฑุ ุงูุชุนูููุ ููุญุฉ ุงูุฅุฏุงุฑุฉ).

ุชุจุทูุก ุงูุทูุจุงุช (Rate Limit) ุญุณุจ IP ูููุน ุงูุณุจุงู.

ุฑูุน ุงููููุงุช ููุท ุนุจุฑ ุงูุฎุงุฏู โ Supabase Private Bucket.

RLS ููุนูู ุนูู ุฌุฏูู complaint_proofs.

ูุง ุชูุฌุฏ ุณูุงุณุงุช ุชุณูุญ ููู anon ุจุงููุตูู ุฅูู ุจูุงูุงุช ุงููุฑููุงุช.

CSP ูุถุงู ูู <meta> ูุชูููู ูุฎุงุทุฑ XSS.

ุฑููุฒ ูููุนุฉ (Signed URLs) ููุท ูููุตูู ุฅูู ุงููููุงุช ุงููุฑููุฉ.

ุฅุบูุงู ุงููุตูู ุงููุจุงุดุฑ ุฅูู ุงููBucket.

ูู ุฑูุน โค 10MBุ ููููุงุช PDF / JPG / PNG ููุท.



---

๐งฉ ุณูุงุณุฉ ุงูุชุญูู

ุงูุดูุงูุฉ:

ุฅูุฒุงูู:

ุงูุงุณู ุงููุงูู

ุชุงุฑูุฎ ุงูุชูุฏูู

ููุน ุงูุดููู

ููุฎุต โฅ 120 ุญุฑููุง

ูุฑูู ููููุน (PDF / PNG / JPG)


ุชููุดุฃ Issue ุจูุณูู:

pending, type: complaint, topic: <ุงูููุน>, city: <ุงููุฏููุฉ>


ุงูุชูุฑูุฑ:

ุฅูุฒุงูู:

ุชุงุฑูุฎ / ููุช ุงููุงูุนุฉ

ุงูููุงู

ุงูุชุตููู

ุงููุต โฅ 120 ุญุฑููุง


ุงููุฑููุงุช ุงุฎุชูุงุฑูุฉ (ุฑูุงุจุท ุฃู ุฑูุน).


ุงูุดูุงุฏุฉ / ุงูุชุนููู:

ุฅูุฒุงูู:

ุงูุงุณู ุงููุงูู

ุงููุต โฅ 40 ุญุฑููุง




---

๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช (Supabase)

ุฌุฏูู ุฑุจุท ุงููุฑููุงุช:

create table if not exists public.complaint_proofs (
  id           bigserial primary key,
  issue_number integer not null unique,
  proof_path   text not null,
  uploader_ip  inet,
  created_at   timestamptz not null default now()
);

create index if not exists idx_complaint_proofs_issue
  on public.complaint_proofs(issue_number);

alter table public.complaint_proofs enable row level security;

> โ๏ธ ูุง ุชูุดุฆ ุณูุงุณุงุช select ุฃู insert ููู anon. ููุท ุฏูุงู Netlify ุงูุชู ุชุณุชุฎุฏู service_role ูููููุง ุงููุตูู.




---

๐ ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู (UX)

ููุก ุชููุงุฆู ูููุฏููุฉ ูุงูุชุงุฑูุฎ ูู state.json.

ุชุนุทูู ุฒุฑ ุงูุฅุนุฌุงุจ ุจุนุฏ ุฃูู ููุฑุฉ ุจุงุณุชุฎุฏุงู localStorage.

ุฅุธูุงุฑ ุฑุณุงูุฉ โุชู ุงุญุชุณุงุจ ุตูุชู ๐โ ุจุนุฏ ุงูุชุตููุช.

ุนุฑุถ ุงูุญุงูุฉ ุจุงูููุทูุฉ ุงูุฒูููุฉ ุงููุญููุฉ (Africa/Casablanca ุงูุชุฑุงุถููุง).

ุฏุนู ุชุชุจุน ุงูุญุงูุฉ ุนุจุฑ ุฑูู ุงูููู.

ุชุถููู hCaptcha ูู ูุงุฌูุฉ ุงูุฃุฏูู.



---

๐ค ุงูุชุจุฑุนุงุช ูุงูุฏุนู

> ุชู ุงุณุชุจุฏุงู ุฃููููุฉ ๐ ุจู โ๏ธ ุฑูุฒ ุงูุนุฏุงูุฉ ูุงูุชุถุงูู.




---

๐ ููุงุญุธุงุช ุฎุชุงููุฉ

ุฌููุน ุงููุถุงูุง ุชูุฑุงุฌุน ูุฏูููุง ูุจู ูุดุฑูุง.

ุงููููุงุช ุงููููุนุฉ ุชูุญูุธ ุฏุงุฎู Supabase ููุง ุชูุนุฑุถ ููุนุงูุฉ.

ุงูููุตุฉ ููุณุช ุฌูุฉ ุฑุณููุฉ ููุง ุชูุฏู ุฎุฏูุงุช ูุถุงุฆูุฉ.

ุฃู ูุฎุงููุฉ (ุณุจ/ูุฐู/ุงุชูุงูุงุช ุจุงุทูุฉ) ุชูุฑูุถ ููุฑูุง.

ุงููุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ููููู ุชุทููุฑู ูู ูุจู ุงููุฌุชูุน.



---

๐ก ุงููุงุฏู

ูุงุฌูุฉ ุฅุญุตุงุกุงุช (Dashboard) ุชูุงุนููุฉ.

ูุธุงู ุฅุดุนุงุฑุงุช ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฃู Telegram.

ุฏุนู ูุชุนุฏุฏ ุงููุบุงุช (ุงูุนุฑุจูุฉุ ุงููุฑูุณูุฉุ ุงูุฅูุฌููุฒูุฉ).

ุชูุงูู ูุน ูุงุฌูุงุช ุจูุงูุงุช ุนุงูุฉ (Open Data).



---

ยฉ ููุตุฉ ุงูุดูุงูุงุช ูุงูุชูุงุฑูุฑ โ ูุดุฑูุน ูุฏูู ุบูุฑ ุฑุจุญู.